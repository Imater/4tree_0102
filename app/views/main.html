<div id="w_main" ng-class="{
        header_panel_opened: set.header_panel_opened||set.show_pomidor_timer,
        p_left_side_open: set.p_left_side_open,
        p_right_side_open: set.p_right_side_open,
        p_plan_of_day_closed: !set.p_plan_of_day_open
        }">


    <!-- HEADER -->
    <div id="w_header_main">
        <div ng-include="'views/main_header.html'"></div>
    </div>

    <div id="w_content_main">
        
        <!-- LEFT PANEL 0 -->
        <div id="p_left_side_wrap" ng-if="set.p_left_side_open">
            <div class="p_inside_wrap">
                <div class="p_inside_header">
                    <span ng-click="set.show_left_menu = !set.show_left_menu" class="title drop margin_left">{{set.side_views_menu[set.panel[0].active].title}}</span>
                </div>

                <div class="p_inside_header2">
                </div>

                <div class="p_inside_content vertical_scroll"  scrollable="{alwaysVisible:'true'}">
                    <ul class="side_menu slide_left" ng-if="set.show_left_menu">
                        <li sly-repeat="item in set.side_views_menu" ng-class="{active:$index==set.panel[0].active}" ng-click="set.panel[0].active=$index;"><i class="{{item.icon}}"></i><b>{{item.title}}</b></li>
                    </ul>
                    <div class="right_menu_button_w">
                        <i class="icon-th-list r_menu_button"></i>
                    </div>                
                    <div ng-include="set.side_views_menu[set.panel[0].active].template"></div>
                </div>
            </div>
        </div>

        <div class="left_main_line" ng-click="
    set.p_left_side_open=!set.p_left_side_open">
        </div>

        <div  ng-click="
    set.p_left_side_open=!set.p_left_side_open" class="btn-group left_toggle_button" ng-class="{opened:set.p_left_side_open}">
          <div class="left_label"><i class="icon-right-open-1 arrow"></i><span class="title">Поиск</span></div>
        </div>


        <!-- CENTER PANEL -->
        <div id="p_center_wrap" ng-class="{'left_hide':set.main_views_menu[set.panel[1].active].off, 'right_hide':set.main_views_menu[set.panel[2].active].off}">

            <!-- PANEL 1 -->
            <div id="p_left_wrap">
                <div class="p_inside_wrap">
                    <div class="p_inside_header">

                        <div class="btn-group main_menu">
                            <span class="title drop" bindonce data-toggle="dropdown">{{set.main_views_menu[set.panel[1].active].title}}</span>
                            <ul class="dropdown-menu" role="menu">
                                <li sly-repeat="item in set.main_views_menu" ng-class="{divider:item.title=='divider', active:$index==set.left_panel_active}" ng-click="set.panel[1].active=$index;"><a><i class="{{item.icon}}"></i><b>{{item.title}}</b></a></li>
                            </ul>
                        </div>

                    </div>
                    <div ng-include="set.main_views_menu[set.panel[1].active].template"></div>
                </div>
            </div>

            <!-- PANEL 2 -->
            <div id="p_right_wrap">
                <div class="p_inside_wrap">
                    <div class="p_inside_header">

                        <div class="btn-group main_menu">
                            <span class="title drop" bindonce data-toggle="dropdown">{{set.main_views_menu[set.panel[2].active].title}}</span>
                            <ul class="dropdown-menu" role="menu">
                                <li sly-repeat="item in set.main_views_menu" ng-class="{divider:item.title=='divider', active:$index==set.panel[2].active}" ng-click="set.panel[2].active=$index;"><a><i class="{{item.icon}}"></i><b>{{item.title}}</b></a></li>
                            </ul>
                        </div>

                    </div>
                    <div ng-include="set.main_views_menu[set.panel[2].active].template"></div>
                </div>
            </div>

        </div>

        <div class="right_main_line" ng-click="
    set.p_right_side_open=!set.p_right_side_open">
        </div>


        <!-- RIGHT PANEL 3 -->
        <div id="p_right_side_wrap" ng-if="set.p_plan_of_day_open">
            <div class="p_inside_wrap">
                <div class="p_inside_header">
                    <span ng-click="set.show_right_menu = !set.show_right_menu" class="title drop margin_left">{{set.side_views_menu[set.panel[3].active].title}}</span>
                </div>

                <div class="p_inside_header2">
                </div>

                <div class="p_inside_content vertical_scroll" scrollable="{alwaysVisible:'true'}">
                    <ul class="side_menu slide_left" ng-if="set.show_right_menu">
                        <li sly-repeat="item in set.side_views_menu" ng-class="{active:$index==set.panel[3].active}" ng-click="set.panel[3].active=$index;"><i class="{{item.icon}}"></i><b>{{item.title}}</b></li>
                    </ul>
                    <div class="right_menu_button_w">
                        <i class="icon-th-list r_menu_button"></i>
                    </div>                
                    <div ng-include="set.side_views_menu[set.panel[3].active].template"></div>
                </div>
            </div>
        </div>

        <div id="p_right_calendar_line">
            <div class="p_inside_wrap">
                <div class="p_inside_header">
                    <span class="title margin_left"></span>
                </div>

                <div ng-include="set.calendar_box_template"></div>

            </div>
        </div>


    </div>
    <div class="settings_task" ng-if="set.set_task">
      <div class="pull-right" ng-click="set.set_task = undefined">закрыть</div>
      {{set.set_task.time}}
      <div contenteditable="true" ng-model="set.set_task.title"></div>
    </div>
</div>