// Generated by CoffeeScript 1.6.3
(function() {
  angular.module("4treeApp").directive("contenteditable", function() {
    return {
      restrict: "A",
      require: "?ngModel",
      link: function(scope, element, attrs, ngModel) {
        var readViewText;
        readViewText = function() {
          var html;
          html = element.html();
          if (attrs.stripBr && html === "<br>") {
            html = "";
          }
          return ngModel.$setViewValue(html);
        };
        if (!ngModel) {
          return;
        }
        ngModel.$render = function() {
          return element.html(ngModel.$viewValue || "");
        };
        element.on("blur keyup change", function() {
          return scope.$apply(readViewText);
        });
        return element.on('$destroy', function() {});
      }
    };
  });

  angular.module("4treeApp").directive("focusMe", function($timeout) {
    return {
      scope: {
        trigger: "=focusMe"
      },
      link: function(scope, element) {
        scope.$watch("trigger", function(value) {
          if (value === true) {
            $timeout(function() {
              return element[0].focus();
            });
            scope.trigger = false;
          }
        });
      }
    };
  });

}).call(this);
